1. 用户进程的地址空间是操作系统分配的。
2. 操作系统和用户进程是两个独立的进程。
3. 用户程序的地址空间是什么时候被分配的？是如何分配的？
4. 执行用户进程的指令时，将指令和操作的内存地址传入cpu执行时，这个地址空间是什么时候转换为实际内存地址的？是如何转换的？（查操作系统维护的映射表）

### 机制：地址转换——基于硬件的地址转换

#### 问题4: 执行用户进程的指令时，将指令和操作的内存地址传入cpu执行时，这个地址空间是什么时候转换为实际内存地址的？是如何转换的？（查操作系统维护的映射表）

当进程运行时，有趣的事情发生了。现在，该进程产生的所有内存引用，都会被处理器通过以下方式转换为物理地址：

`physical address = virtual address + base`

进程中使用的内存引用都是虚拟地址（virtual address），硬件接下来将虚拟地址加上基址寄存器中的内容，得到物理地址（physical address），再发给内存系统。

由于这种重定位是在运行时发生的，而且我们甚至可以在进程开始运行后改变其地址空间，这种技术一般被称为动态重定位



空闲列表（free list）。它就是一个列表，记录当前没有使用的物理内存的范围。

操作系统在特权模式（privileged mode，或内核模式，kernel mode），可以访问整个机器资源。应用程序在用户模式（user mode）运行，只能做有限的操作。只要一个位，也许保存在处理器状态字（processor status word）中，就能说明当前的CPU运行模式。在一些特殊的时刻（如系统调用、异常或中断），CPU会切换状态。

